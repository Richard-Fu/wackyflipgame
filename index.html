<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Wacky Flip - Play Free Online Physics Flip Game | Master Crazy Stunts
    </title>
    <meta
      name="description"
      content="Play Wacky Flip Game free online! Master backflips, pike twists & crazy stunts in this addictive physics-based parkour game. No download required - start flipping now!"
    />
    <meta
      name="keywords"
      content="Wacky Flip, flip game, physics game, parkour game, online game, free game, skill game, backflip, stunt game, ragdoll physics, browser game, HTML5 game"
    />
    <link rel="canonical" href="https://wackyflipgame.me" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background-color: #f5f5f5;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .game-container {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
        text-align: center;
      }

      .game-frame {
        width: 100%;
        max-width: 1280px;
        height: 720px;
        border: none;
        border-radius: 8px;
      }

      /* Rating Component Styles */
      .rating-section {
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
        text-align: center;
      }

      .rating-display {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 20px;
        margin-bottom: 20px;
      }

      .rating-score {
        font-size: 3em;
        font-weight: bold;
        color: #e74c3c;
      }

      .rating-stars {
        display: flex;
        gap: 5px;
      }

      .star {
        font-size: 2em;
        color: #ffd700;
      }

      .star.empty {
        color: #ddd;
      }

      .rating-info {
        color: #666;
        margin-bottom: 20px;
      }

      .user-rating {
        margin-top: 20px;
      }

      .user-rating h4 {
        margin-bottom: 10px;
        color: #2c3e50;
      }

      .rating-buttons {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 10px;
      }

      .rating-btn {
        background: none;
        border: none;
        font-size: 1.5em;
        cursor: pointer;
        padding: 5px;
        transition: transform 0.2s ease;
      }

      .rating-btn:hover {
        transform: scale(1.2);
      }

      .rating-btn.selected {
        color: #ffd700;
      }

      .rating-btn.unselected {
        color: #ddd;
      }

      /* Comments Section Styles */
      .comments-section {
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .comment-form {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 30px;
      }

      .form-group {
        margin-bottom: 15px;
      }

      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
        color: #2c3e50;
      }

      .form-group input,
      .form-group textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-family: inherit;
      }

      .form-group textarea {
        height: 100px;
        resize: vertical;
      }

      .submit-btn {
        background: #3498db;
        color: white;
        padding: 12px 24px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1em;
        transition: background-color 0.3s ease;
      }

      .submit-btn:hover {
        background: #2980b9;
      }

      .comments-list {
        max-height: 500px;
        overflow-y: auto;
      }

      .comment {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 15px;
        border-left: 4px solid #3498db;
      }

      .comment-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
      }

      .comment-author {
        font-weight: bold;
        color: #2c3e50;
      }

      .comment-date {
        color: #666;
        font-size: 0.9em;
      }

      .comment-text {
        color: #333;
        line-height: 1.5;
      }

      .no-comments {
        text-align: center;
        color: #666;
        font-style: italic;
        padding: 20px;
      }

      header {
        text-align: center;
        margin-bottom: 30px;
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      h1 {
        font-size: 2.5em;
        color: #2c3e50;
        margin-bottom: 10px;
      }

      .subtitle {
        font-size: 1.2em;
        color: #7f8c8d;
        margin-bottom: 20px;
      }

      .content-section {
        background: white;
        padding: 30px;
        margin-bottom: 30px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      h2 {
        color: #2c3e50;
        font-size: 1.8em;
        margin-bottom: 20px;
        border-bottom: 3px solid #3498db;
        padding-bottom: 10px;
      }

      h3 {
        color: #34495e;
        font-size: 1.3em;
        margin: 20px 0 10px 0;
      }

      .how-to-play {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .step {
        background: #ecf0f1;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #3498db;
      }

      .step h4 {
        color: #2c3e50;
        margin-bottom: 10px;
        font-size: 1.1em;
      }

      .advantages {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .advantage {
        text-align: center;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 8px;
        transition: transform 0.3s ease;
      }

      .advantage:hover {
        transform: translateY(-5px);
      }

      .advantage-icon {
        font-size: 2em;
        margin-bottom: 10px;
      }

      .faq-item {
        margin-bottom: 20px;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        overflow: hidden;
      }

      .faq-question {
        background: #f8f9fa;
        padding: 15px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      .faq-question:hover {
        background: #e9ecef;
      }

      .faq-answer {
        padding: 15px;
        background: white;
      }

      .controls-list {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
      }

      .controls-list ul {
        list-style: none;
      }

      .controls-list li {
        padding: 8px 0;
        border-bottom: 1px solid #e0e0e0;
      }

      .controls-list li:last-child {
        border-bottom: none;
      }

      .highlight {
        background: linear-gradient(120deg, #a8e6cf 0%, #dcedc1 100%);
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
        border-left: 4px solid #27ae60;
      }

      @media (max-width: 768px) {
        .container {
          padding: 10px;
        }

        h1 {
          font-size: 2em;
        }

        .game-frame {
          height: 400px;
        }

        .content-section {
          padding: 20px;
        }

        .rating-display {
          flex-direction: column;
          gap: 10px;
        }

        .rating-score {
          font-size: 2em;
        }
      }

      footer {
        text-align: center;
        padding: 30px;
        background: #2c3e50;
        color: white;
        margin-top: 50px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="game-container">
        <iframe
          src="https://1games.io/embed/wacky-flip"
          width="1280"
          height="720"
          scrolling="none"
          frameborder="0"
          class="game-frame"
          title="Wacky Flip Crazy Physics Game"
        >
        </iframe>
      </div>

      <!-- Rating Section -->
      <div class="rating-section">
        <h3>🌟 Game Rating</h3>
        <div class="rating-display">
          <div class="rating-score" id="averageRating">4.5</div>
          <div>
            <div class="rating-stars" id="displayStars">
              <span class="star">★</span>
              <span class="star">★</span>
              <span class="star">★</span>
              <span class="star">★</span>
              <span class="star">★</span>
            </div>
            <div class="rating-info">
              Based on <span id="totalRatings">1,247</span> ratings
            </div>
          </div>
        </div>

        <div class="user-rating">
          <h4>Rate this game:</h4>
          <div class="rating-buttons" id="userRating">
            <button class="rating-btn unselected" data-rating="1">★</button>
            <button class="rating-btn unselected" data-rating="2">★</button>
            <button class="rating-btn unselected" data-rating="3">★</button>
            <button class="rating-btn unselected" data-rating="4">★</button>
            <button class="rating-btn unselected" data-rating="5">★</button>
          </div>
          <div id="ratingMessage"></div>
        </div>
      </div>

      <!-- Comments Section -->
      <div class="comments-section">
        <h3>💬 Player Comments</h3>

        <div class="comment-form">
          <h4>Leave a Comment</h4>
          <form id="commentForm">
            <div class="form-group">
              <label for="userName">Name:</label>
              <input
                type="text"
                id="userName"
                name="userName"
                required
                maxlength="50"
              />
            </div>
            <div class="form-group">
              <label for="userComment">Comment:</label>
              <textarea
                id="userComment"
                name="userComment"
                required
                maxlength="500"
                placeholder="Share your thoughts about Wacky Flip..."
              ></textarea>
            </div>
            <button type="submit" class="submit-btn">Post Comment</button>
          </form>
        </div>

        <div class="comments-list" id="commentsList">
          <!-- Comments will be loaded here -->
        </div>
      </div>

      <header>
        <h1>🎮 Wacky Flip - Crazy Physics Flip Game</h1>
        <p class="subtitle">
          Experience the most thrilling physics-based parkour game and master
          perfect flip techniques!
        </p>
        <div class="highlight">
          <strong
            >🎯 Free Online Game | 🚀 No Download | 🎪 Physics Engine | 🏆 Skill
            Challenge</strong
          >
        </div>
      </header>

      <section class="content-section">
        <h2>🎪 About Wacky Flip Crazy Physics Game</h2>
        <p>
          <strong>Wacky Flip</strong>
          is an addictive physics-based parkour game that perfectly combines
          real physics with pure parkour chaos. In this innovative flip game,
          you need to master backflips, pike twists, and mid-air madness, launch
          off rooftops, slam dunk into stunt hoops, and stick the most
          ridiculous landings across urban playgrounds.
        </p>

        <div class="highlight">
          <p>
            <strong>🌟 Game Features:</strong>
            The world is your stunt gym, and gravity is your playground. This
            innovative flip game perfectly blends style, skill, and serious fun!
          </p>
        </div>

        <h3>🎯 Core Gameplay</h3>
        <p>
          Wacky Flip starts simple: launch your athlete, flip through the air,
          and aim for a clean landing inside the target zone. Each flip earns
          you points—but only if you nail the landing. The more stylish and
          complex your combos, the higher your score. Just don't lose control
          midair, or it's an instant wipeout.
        </p>
      </section>

      <section class="content-section">
        <h2>🎮 How to Play Wacky Flip</h2>
        <div class="how-to-play">
          <div class="step">
            <h4>🚀 Step 1: Prepare to Launch</h4>
            <p>
              Hold the left mouse button to adjust jump power and angle. The
              power bar will show your jump intensity, and the angle determines
              your flight trajectory.
            </p>
          </div>
          <div class="step">
            <h4>🎪 Step 2: Launch into Air</h4>
            <p>
              Release the left mouse button to launch into the air. Your
              character will fly into the air according to the set power and
              angle, ready to start the flip performance.
            </p>
          </div>
          <div class="step">
            <h4>🤸 Step 3: Mid-Air Flips</h4>
            <p>
              Click the mouse while in the air to start flipping. You can
              perform various flip moves like Pike, Scissor, and Layout flips to
              earn higher scores.
            </p>
          </div>
          <div class="step">
            <h4>🎯 Step 4: Perfect Landing</h4>
            <p>
              Click the mouse again to lock the landing position. Timing is
              everything! Perfect landing timing will determine whether you get
              high scores or crash spectacularly.
            </p>
          </div>
        </div>

        <div class="controls-list">
          <h3>🎮 Game Controls</h3>
          <ul>
            <li>
              <strong>Hold Left Mouse Button:</strong> Adjust jump power and
              angle
            </li>
            <li><strong>Release Mouse:</strong> Launch into the air</li>
            <li><strong>Click in Air:</strong> Start flip action</li>
            <li>
              <strong>Click Again:</strong> Lock landing (timing is crucial)
            </li>
          </ul>
        </div>
      </section>

      <section class="content-section">
        <h2>🌟 Wacky Flip Game Advantages</h2>
        <div class="advantages">
          <div class="advantage">
            <div class="advantage-icon">🎯</div>
            <h3>Simple to Learn</h3>
            <p>
              The game mechanics are easy to understand, suitable for players of
              all ages and skill levels. Just control your character's movement
              and master the flip techniques.
            </p>
          </div>
          <div class="advantage">
            <div class="advantage-icon">🚀</div>
            <h3>No Installation Required</h3>
            <p>
              Wacky Flip is free to play and requires no downloads or
              installations. You can access the game directly from your browser
              and start playing immediately.
            </p>
          </div>
          <div class="advantage">
            <div class="advantage-icon">🧠</div>
            <h3>Enhances Focus</h3>
            <p>
              The game requires quick reflexes and concentration. As the
              character's speed increases, it helps players improve hand-eye
              coordination and reaction time.
            </p>
          </div>
          <div class="advantage">
            <div class="advantage-icon">🎪</div>
            <h3>Physics Engine Fun</h3>
            <p>
              The realistic physics engine makes every flip full of surprises.
              Even failures create hilarious ragdoll physics effects that are
              entertaining to watch.
            </p>
          </div>
          <div class="advantage">
            <div class="advantage-icon">🏆</div>
            <h3>Skill Challenge</h3>
            <p>
              Master various flip combinations, from simple backflips to complex
              consecutive moves, constantly challenging higher score records.
            </p>
          </div>
          <div class="advantage">
            <div class="advantage-icon">🎨</div>
            <h3>Style Variety</h3>
            <p>
              Multiple flip moves and landing methods allow you to create unique
              styles and impressive stunt performances.
            </p>
          </div>
        </div>
      </section>

      <section class="content-section">
        <h2>❓ Frequently Asked Questions</h2>
        <div class="faq-item">
          <div class="faq-question">How do I start playing Wacky Flip?</div>
          <div class="faq-answer">
            <p>
              Very simple! The game automatically loads in the game area above.
              Use your mouse to control the character's jumping and flipping,
              and follow the in-game prompts to start your flip adventure.
            </p>
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question">What are the controls for Wacky Flip?</div>
          <div class="faq-answer">
            <p>
              In Wacky Flip, use the left mouse button to control your
              character. Hold to adjust power and angle, release to launch,
              click in air to start flipping, click again to lock landing.
            </p>
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question">How do I get high scores in the game?</div>
          <div class="faq-answer">
            <p>
              Get high scores by completing complex flip combinations and
              perfect landings. Try different moves like Pike flips, Scissor
              flips, and ensure perfect landings in the target zone to get score
              multipliers.
            </p>
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question">
            Are there different difficulty levels in the game?
          </div>
          <div class="faq-answer">
            <p>
              Yes, Wacky Flip contains multiple different levels and challenge
              areas, from rooftops to water towers, each area has unique stunt
              setups and difficulty challenges.
            </p>
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question">What happens if I fail a flip?</div>
          <div class="faq-answer">
            <p>
              Even failures are fun! The game's ragdoll physics engine creates
              hilarious crash effects, with each failure producing fresh and
              entertaining results.
            </p>
          </div>
        </div>
      </section>

      <section class="content-section">
        <h2>🎮 Similar Physics Sports Games</h2>
        <p>
          If you enjoy Wacky Flip, you might also like these physics-based skill
          games:
        </p>
        <ul style="margin-top: 15px; padding-left: 20px">
          <li><strong>Goal Rush</strong> - Soccer skill challenge game</li>
          <li><strong>Flip Runner</strong> - Parkour flip adventure</li>
          <li>
            <strong>Volley Random</strong> - Random volleyball physics game
          </li>
          <li>
            <strong>Basketball Superstars</strong> - Basketball skill game
          </li>
        </ul>
      </section>
    </div>

    <footer>
      <p>&copy; 2025 Wacky Flip Game Site. All rights reserved.</p>
      <p>Enjoy the best online flip game experience!</p>
    </footer>

    <script>
      // Rating System with daily limits
      let userRating = 0;
      const ratings =
        JSON.parse(localStorage.getItem("wackyFlipRatings")) || [];
      const userActions =
        JSON.parse(localStorage.getItem("wackyFlipUserActions")) || {};

      // Get today's date string
      function getTodayString() {
        return new Date().toDateString();
      }

      // Check if user has already rated today
      function hasRatedToday() {
        const today = getTodayString();
        return userActions.lastRatingDate === today;
      }

      // Check if user has commented today
      function hasCommentedToday() {
        const today = getTodayString();
        return (
          userActions.lastCommentDate === today && userActions.commentCount >= 3
        ); // Allow 3 comments per day
      }

      function updateDisplayRating() {
        const avgRating =
          ratings.length > 0
            ? (
                ratings.reduce((sum, rating) => sum + rating, 0) /
                ratings.length
              ).toFixed(1)
            : 4.5;
        const totalRatings = ratings.length > 0 ? ratings.length : 1247;

        document.getElementById("averageRating").textContent = avgRating;
        document.getElementById("totalRatings").textContent =
          totalRatings.toLocaleString();

        // Update display stars
        const stars = document.querySelectorAll("#displayStars .star");
        const rating = parseFloat(avgRating);
        stars.forEach((star, index) => {
          star.classList.remove("empty");
          star.style.background = "";
          star.style.webkitBackgroundClip = "";
          star.style.webkitTextFillColor = "";

          if (index >= Math.floor(rating)) {
            if (index < rating) {
              // Half star effect
              star.style.background =
                "linear-gradient(90deg, #ffd700 50%, #ddd 50%)";
              star.style.webkitBackgroundClip = "text";
              star.style.webkitTextFillColor = "transparent";
            } else {
              star.classList.add("empty");
            }
          }
        });
      }

      // Initialize rating buttons
      function initializeRatingButtons() {
        const ratingButtons = document.querySelectorAll(".rating-btn");
        const ratingMessage = document.getElementById("ratingMessage");

        if (hasRatedToday()) {
          // Disable rating if already rated today
          ratingButtons.forEach((btn) => {
            btn.disabled = true;
            btn.style.opacity = "0.5";
            btn.style.cursor = "not-allowed";
          });
          ratingMessage.innerHTML = `<p style="color: #e74c3c; margin-top: 10px;">You have already rated this game today. Come back tomorrow to rate again!</p>`;
        } else {
          // Enable rating buttons
          ratingButtons.forEach((btn) => {
            btn.disabled = false;
            btn.style.opacity = "1";
            btn.style.cursor = "pointer";
          });
        }
      }

      // User rating interaction
      document.querySelectorAll(".rating-btn").forEach((btn) => {
        btn.addEventListener("click", (e) => {
          if (hasRatedToday()) {
            e.preventDefault();
            return;
          }

          const rating = parseInt(btn.dataset.rating);
          userRating = rating;

          // Update button states
          document.querySelectorAll(".rating-btn").forEach((button, index) => {
            if (index < rating) {
              button.classList.remove("unselected");
              button.classList.add("selected");
            } else {
              button.classList.remove("selected");
              button.classList.add("unselected");
            }
          });

          // Save rating and user action
          ratings.push(rating);
          localStorage.setItem("wackyFlipRatings", JSON.stringify(ratings));

          // Update user actions
          userActions.lastRatingDate = getTodayString();
          localStorage.setItem(
            "wackyFlipUserActions",
            JSON.stringify(userActions)
          );

          updateDisplayRating();

          document.getElementById(
            "ratingMessage"
          ).innerHTML = `<p style="color: #27ae60; margin-top: 10px;">Thanks for rating! You gave ${rating} star${
            rating > 1 ? "s" : ""
          }. You can rate again tomorrow!</p>`;

          // Disable further rating
          initializeRatingButtons();
        });
      });

      // Comments System with daily limits
      const comments = JSON.parse(
        localStorage.getItem("wackyFlipComments")
      ) || [
        {
          author: "GameMaster2024",
          text: "This game is absolutely amazing! The physics are so realistic and the stunts are incredible. I've been playing for hours!",
          date: "2025-01-15T10:30:00Z",
        },
        {
          author: "FlipKing",
          text: "Love the ragdoll physics when you crash! Even failing is fun in this game. Great work on the controls too.",
          date: "2025-01-14T15:45:00Z",
        },
        {
          author: "StuntLover",
          text: "The variety of flips and tricks you can do is impressive. Each level brings new challenges. Highly recommended!",
          date: "2025-01-13T09:20:00Z",
        },
      ];

      function formatDate(dateString) {
        const date = new Date(dateString);
        return (
          date.toLocaleDateString() +
          " at " +
          date.toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" })
        );
      }

      function renderComments() {
        const commentsList = document.getElementById("commentsList");

        if (comments.length === 0) {
          commentsList.innerHTML =
            '<div class="no-comments">No comments yet. Be the first to share your thoughts!</div>';
          return;
        }

        commentsList.innerHTML = comments
          .sort((a, b) => new Date(b.date) - new Date(a.date))
          .map(
            (comment) => `
            <div class="comment">
              <div class="comment-header">
                <span class="comment-author">${escapeHtml(
                  comment.author
                )}</span>
                <span class="comment-date">${formatDate(comment.date)}</span>
              </div>
              <div class="comment-text">${escapeHtml(comment.text)}</div>
            </div>
          `
          )
          .join("");
      }

      // Escape HTML to prevent XSS
      function escapeHtml(text) {
        const div = document.createElement("div");
        div.textContent = text;
        return div.innerHTML;
      }

      // Initialize comment form
      function initializeCommentForm() {
        const submitBtn = document.querySelector(".submit-btn");
        const commentForm = document.getElementById("commentForm");

        if (hasCommentedToday()) {
          submitBtn.disabled = true;
          submitBtn.style.opacity = "0.5";
          submitBtn.style.cursor = "not-allowed";
          submitBtn.textContent = "Daily Comment Limit Reached";

          // Add warning message
          const existingWarning = document.querySelector(".comment-warning");
          if (!existingWarning) {
            const warning = document.createElement("div");
            warning.className = "comment-warning";
            warning.style.cssText =
              "color: #e74c3c; margin-top: 10px; font-size: 0.9em;";
            warning.textContent =
              "You have reached the daily comment limit (3 comments). Come back tomorrow!";
            commentForm.appendChild(warning);
          }
        } else {
          submitBtn.disabled = false;
          submitBtn.style.opacity = "1";
          submitBtn.style.cursor = "pointer";
          submitBtn.textContent = "Post Comment";

          // Remove warning if exists
          const existingWarning = document.querySelector(".comment-warning");
          if (existingWarning) {
            existingWarning.remove();
          }
        }
      }

      // Comment form submission
      document.getElementById("commentForm").addEventListener("submit", (e) => {
        e.preventDefault();

        if (hasCommentedToday()) {
          alert(
            "You have reached the daily comment limit. Please try again tomorrow!"
          );
          return;
        }

        const userName = document.getElementById("userName").value.trim();
        const userComment = document.getElementById("userComment").value.trim();

        // Validation
        if (!userName || !userComment) {
          alert("Please fill in both name and comment fields.");
          return;
        }

        if (userName.length > 50) {
          alert("Name must be 50 characters or less.");
          return;
        }

        if (userComment.length > 500) {
          alert("Comment must be 500 characters or less.");
          return;
        }

        // Check for spam (simple check)
        if (userComment.length < 10) {
          alert("Comment must be at least 10 characters long.");
          return;
        }

        const newComment = {
          author: userName,
          text: userComment,
          date: new Date().toISOString(),
        };

        comments.push(newComment);
        localStorage.setItem("wackyFlipComments", JSON.stringify(comments));

        // Update user actions
        const today = getTodayString();
        if (userActions.lastCommentDate === today) {
          userActions.commentCount = (userActions.commentCount || 0) + 1;
        } else {
          userActions.lastCommentDate = today;
          userActions.commentCount = 1;
        }
        localStorage.setItem(
          "wackyFlipUserActions",
          JSON.stringify(userActions)
        );

        // Clear form
        document.getElementById("userName").value = "";
        document.getElementById("userComment").value = "";

        // Re-render comments
        renderComments();

        // Show success message
        alert("Comment posted successfully!");

        // Update form state
        initializeCommentForm();
      });

      // FAQ interaction
      document.querySelectorAll(".faq-question").forEach((question) => {
        question.addEventListener("click", () => {
          const answer = question.nextElementSibling;
          const isVisible = answer.style.display === "block";

          // Hide all answers
          document.querySelectorAll(".faq-answer").forEach((ans) => {
            ans.style.display = "none";
          });

          // Show/hide current answer
          answer.style.display = isVisible ? "none" : "block";
        });
      });

      // Responsive game frame adjustment
      function adjustGameFrame() {
        const gameFrame = document.querySelector(".game-frame");
        const container = document.querySelector(".game-container");

        if (!gameFrame || !container) return;

        const containerWidth = container.offsetWidth - 40; // minus padding

        if (window.innerWidth <= 768) {
          gameFrame.style.width = "100%";
          gameFrame.style.height = "400px";
        } else if (containerWidth < 1280) {
          gameFrame.style.width = "100%";
          gameFrame.style.height = Math.floor(containerWidth * 0.5625) + "px"; // 16:9 ratio
        }
      }

      // Clean up old data (optional - runs once per day)
      function cleanupOldData() {
        const today = getTodayString();
        const lastCleanup = localStorage.getItem("lastCleanup");

        if (lastCleanup !== today) {
          // Reset daily counters if it's a new day
          const actions =
            JSON.parse(localStorage.getItem("wackyFlipUserActions")) || {};
          if (actions.lastRatingDate !== today) {
            delete actions.lastRatingDate;
          }
          if (actions.lastCommentDate !== today) {
            delete actions.lastCommentDate;
            delete actions.commentCount;
          }
          localStorage.setItem("wackyFlipUserActions", JSON.stringify(actions));
          localStorage.setItem("lastCleanup", today);
        }
      }

      // Initialize everything
      window.addEventListener("resize", adjustGameFrame);
      window.addEventListener("load", () => {
        try {
          cleanupOldData();
          adjustGameFrame();
          updateDisplayRating();
          renderComments();
          initializeRatingButtons();
          initializeCommentForm();
        } catch (error) {
          console.error("Initialization error:", error);
        }
      });
    </script>
  </body>
</html>
